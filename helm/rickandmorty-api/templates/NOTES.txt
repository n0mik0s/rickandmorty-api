ğŸš€ rickandmorty-api deployed!

Release  : {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}
Image    : {{ .Values.image.repository }}:{{ .Values.image.tag }}
Replicas : {{ .Values.replicaCount }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  SECRET FLOW (ESO)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  GitHub Actions secret (RICKANDMORTY_DB_SECRET)
    -> kubectl apply -> {{ .Values.externalSecrets.sourceSecretName }} (CI-managed)
      -> SecretStore: {{ .Values.externalSecrets.secretStore.name }}
        -> ExternalSecret: {{ .Values.externalSecrets.externalSecret.name }}
          -> Secret: {{ .Values.externalSecrets.externalSecret.targetSecretName }}
            -> mounted at {{ .Values.app.secretPath }}

  Check sync status:
    kubectl get externalsecret {{ .Values.externalSecrets.externalSecret.name }} \
      -n {{ .Release.Namespace }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ACCESS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Port-forward:
    kubectl port-forward svc/{{ include "rickandmorty-api.fullname" . }} 8000:{{ .Values.service.port }} -n {{ .Release.Namespace }}
  Then: http://localhost:8000/docs

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BEFORE FIRST DEPLOY â€” push the secret manually if not using CI:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  kubectl create secret generic {{ .Values.externalSecrets.sourceSecretName }} \
    --from-literal={{ .Values.externalSecrets.sourceSecretKey }}='{"host":"...","user":"...","password":"...","dbname":"..."}' \
    --namespace {{ .Release.Namespace }} \
    --dry-run=client -o yaml | kubectl apply -f -